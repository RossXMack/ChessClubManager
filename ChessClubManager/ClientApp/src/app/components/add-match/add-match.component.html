<h1>Match </h1>
<h3> {{ title }} </h3>
<hr />

<form [formGroup]="matchForm" (ngSubmit)="save()">
  <div class="form-group row">
    <label class="control-lable col-md-12">Match Date</label>
    <div class="col-md-4">
      <input class="form-control" type="date" required formControlName="matchDate">
    </div>
    <span class="text-danger"
          *ngIf="
            (registerFormControl.matchDate.touched || submitted) &&
          registerFormControl.matchDate.errors?.required
            ">
      Match Date is required.
    </span>
  </div>

  <div class="form-group row">
    <label class="control-lable col-md-12">Games Played</label>
    <div class="col-md-4">
      <input class="form-control" type="number" min="1" required formControlName="gamesPlayed" />
    </div>
    <span class="text-danger"
          *ngIf="
            (registerFormControl.gamesPlayed.touched || submitted) &&
          registerFormControl.gamesPlayed.errors?.required
            ">
      Games played is required.
    </span>
  </div>

  <div class="form-group row">
    <label class="control-lable col-md-12">Participant 1</label>
    <div class="col-md-4">
      <select class="form-control" data-value="true" required formControlName="participant1Id">
        <option value="">-- Select Member --</option>
        <option *ngFor="let member of memberStubList" value="{{ member.id }}">
          {{ member.fullname }}
        </option>
      </select>
    </div>
    <span class="text-danger"
          *ngIf="
            (registerFormControl.participant1Id.touched || submitted) &&
          registerFormControl.participant1Id.errors?.required
            ">
      Participant 1 is required.
    </span>
  </div>

  <div class="form-group row">
    <label class="control-lable col-md-12">Participant 1 Result</label>
    <div class="col-md-4">
      <select class="form-control" data-value="true" required formControlName="participant1Result">
        <option value="">-- Select Result --</option>
        <option value=0>Draw</option>
        <option value=1>Win</option>
        <option value=2>Loss</option>
      </select>
    </div>
    <span class="text-danger"
          *ngIf="
            (registerFormControl.participant1Result.touched || submitted) &&
          registerFormControl.participant1Result.errors?.required
            ">
      Participant 1 result is required.
    </span>
  </div>

  <div class="form-group row">
    <label class="control-lable col-md-12">Participant 2</label>
    <div class="col-md-4">
      <select class="form-control" data-value="true" required formControlName="participant2Id">
        <option value="">-- Select Member --</option>
        <option *ngFor="let member of memberStubList" value="{{ member.id }}">
          {{ member.fullname }}
        </option>
      </select>
    </div>
    <span class="text-danger"
          *ngIf="
            (registerFormControl.participant2Id.touched || submitted) &&
          registerFormControl.participant2Id.errors?.required
            ">
      Participant 2 is required.
    </span>
  </div>

  <div class="form-group row">
    <label class="control-lable col-md-12">Participant 2 Result</label>
    <div class="col-md-4">
      <select class="form-control" data-value="true" required formControlName="participant2Result">
        <option value="">-- Select Result --</option>
        <option value=0>Draw</option>
        <option value=1>Win</option>
        <option value=2>Loss</option>
      </select>
    </div>
    <span class="text-danger"
          *ngIf="
            (registerFormControl.participant2Result.touched || submitted) &&
          registerFormControl.participant2Result.errors?.required
            ">
      Participant 2 result is required.
    </span>
  </div>  

  <hr />
  <div class="form-group">
    <button type="submit" class="btn btn-primary">Save</button>
    <button class="btn btn-danger" (click)="cancel()">Cancel</button>
  </div>
</form>
